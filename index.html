<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PokeApi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container py-3">
    <div id="pokelist" class="row g-2"></div>
    <div class="d-flex justify-content-between mt-3">
      <button id="ant" class="btn btn-primary btn-sm" disabled>Ant</button>
      <button id="sig" class="btn btn-primary btn-sm">Sig</button>
    </div>
  </div>
  <script>
    let offset = 0,
      limit = 20,
      total = 0;
    let pokelist = document.getElementById('pokelist');
    let ant = document.getElementById('ant');
    let sig = document.getElementById('sig');

    function cargarLista() {
      fetch(`https://pokeapi.co/api/v2/pokemon?offset=${offset}&limit=${limit}`)
        .then(r => r.json())
        .then(data => {
          total = data.count;
          pokelist.innerHTML = '';
          data.results.forEach((p, i) => {
            let num = offset + i + 1;
            let card = document.createElement('div');
            card.className = "col-6";
            card.innerHTML = `
              <div class="card h-100 text-center">
                <div class="card-body p-2">
                  <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${num}.png" class="img-fluid mb-1" style="max-height:80px">
                  <div class="fw-bold text-capitalize">${p.name}</div>
                  <div class="text-muted small">#${num}</div>
                </div>
              </div>
            `;
            pokelist.appendChild(card);
          });
          ant.disabled = offset === 0;
          sig.disabled = offset + limit >= total;
        });
    }

    ant.onclick = () => {
      if (offset >= limit) {
        offset -= limit;
        cargarLista();
      }
    }
    sig.onclick = () => {
      if (offset + limit < total) {
        offset += limit;
        cargarLista();
      }
    }
    cargarLista();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</body>

</html>